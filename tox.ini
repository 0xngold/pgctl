[tox]
envlist = py27,py36
tox_pip_extensions_ext_pip_custom_platform = true
tox_pip_extensions_ext_venv_update = true

[testenv]
passenv = PYTHONUSERBASE USER HOME EMAIL GIT_COMMITTER_NAME CI
deps = -rrequirements.d/test.txt
changedir = {envtmpdir}
commands = {posargs:{toxinidir}/test}

[testenv:venv]
envdir = venv
commands =

[testenv:docs]
deps = -rrequirements.d/docs.txt
changedir = docs
commands =
    make clean html
    sh -c 'cd build/html && python -m SimpleHTTPServer 8088'
whitelist_externals =
    make
    sh
